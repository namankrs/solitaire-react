(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(9),r=n.n(s),o=(n(15),n(1)),l=n(2),u=n(4),c=n(3),d=n(5),p=function(){function e(t,n,a,i){Object(o.a)(this,e),this.suite=t,this.color=n,this.number=a,this.unicode=i,this.isOpen=!1}return Object(l.a)(e,[{key:"getColor",value:function(){return this.isOpen?this.color:"black"}},{key:"getUnicode",value:function(){return this.isOpen?this.unicode:"&#x1F0A0"}},{key:"open",value:function(){this.isOpen=!0}},{key:"draggable",value:function(){return this.isOpen}},{key:"isAce",value:function(){return 1===this.number}},{key:"isKing",value:function(){return 13===this.number}},{key:"canBePlacedForPile",value:function(e){return this.number===e.number+1&&this.color!==e.color}},{key:"canBePlacedForFoundation",value:function(e){return this.number===e.number-1&&this.color===e.color&&this.suite===e.suite}}]),e}(),h=n(6);var f=function(){var e={spade:{color:"black",unicode:"&#x1F0A"},heart:{color:"red",unicode:"&#x1F0B"},diamond:{color:"red",unicode:"&#x1F0C"},club:{color:"black",unicode:"&#x1F0D"}},t=[];return Object.keys(e).forEach(function(n){for(var a=e[n].color,i=e[n].unicode,s=1;s<=14;s++){var r=i+s.toString(16);if(12!==s){var o=s;s>12&&(o=s-1),t.push(new p(n,a,o,r))}}}),Object(h.shuffle)(t)},v=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"drag",value:function(e){e.dataTransfer.setData("text",e.target.id)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.id,a=e.draggable,s=e.className,r=e.card;return i.a.createElement("div",{key:n,id:n,draggable:a,onDragStart:this.drag.bind(this),className:s,onClick:t,style:{color:r.getColor()},dangerouslySetInnerHTML:{__html:"".concat(r.getUnicode())}})}}]),t}(a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"generateCard",value:function(e,t,n){return i.a.createElement(v,{id:e+"_"+n,draggable:t.draggable(),className:"card",card:t})}},{key:"generatePile",value:function(e,t){return i.a.createElement("div",{id:e,onDragOver:this.allowDrop.bind(this),onDrop:this.props.dropOnPile.bind(null,e),className:"pile-column"},t)}},{key:"render",value:function(){var e=this,t=this.props.piles.map(function(t,n){var a=t.map(e.generateCard.bind(null,n));return e.generatePile(n,a)});return i.a.createElement("div",{className:"piles"}," ",t)}}]),t}(i.a.Component),m=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"generateCard",value:function(e,t,n){return i.a.createElement(v,{id:e+"_"+n,className:"foundation-pile-card",card:t})}},{key:"generateFoundation",value:function(e,t){return i.a.createElement("div",{id:"foundation_"+e,onDragOver:this.allowDrop.bind(this),onDrop:this.props.dropOnFoundations.bind(null,e),className:"foundation-pile"},t)}},{key:"render",value:function(){var e=this,t=this.props.foundationPiles.map(function(t,n){var a=t.slice().map(e.generateCard.bind(null,n));return e.generateFoundation(n,a)});return i.a.createElement("div",{className:"foundation-piles"},t)}}]),t}(i.a.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generateCard",value:function(e,t,n){var a=!0;return 0===e&&(t=new p(null,"black",null,"&#x1F0A0"),a=!1),i.a.createElement(v,{id:n,draggable:a,onClick:onclick,className:"waste-pile-card",card:t})}},{key:"generatePile",value:function(e,t){var n=this.props.resetWastePile;0===t&&(n=this.props.handleWastePile);var a=e.map(this.generateCard.bind(null,t));return i.a.createElement("div",{onClick:n,className:"waste-pile"},a)}},{key:"render",value:function(){var e=this.props.wastePiles.map(this.generatePile.bind(this));return i.a.createElement("div",{className:"waste-piles"},e)}}]),t}(i.a.Component),P=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={piles:[],wastePiles:[[],[]],foundationPiles:[[],[],[],[]]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setStates()}},{key:"setStates",value:function(){for(var e=f().slice(0),t=[],n=1;n<=7;n++){for(var a=[],i=0;i<n;i++)a.push(e[0]),e.shift();a[n-1].open(),t.push(a)}var s=[e,[]];this.setState({piles:t,wastePiles:s})}},{key:"resetWastePile",value:function(){if(!this.state.wastePiles[0].length){var e=this.state.wastePiles[1];e.reverse(),this.setState({wastePiles:[e,[]]})}}},{key:"handleWastePile",value:function(e){var t=this.state.wastePiles[0];if(t.length){var n=this.state.wastePiles[1],a=t[t.length-1];a.open(),t.pop(),n.push(a),this.setState({wastePiles:[t,n]})}}},{key:"_canBePlayedOnPile",value:function(e,t){var n=Object(h.last)(this.state.piles[t]);return n?n.canBePlacedForPile(e):e.isKing()}},{key:"_dropOnPileFromWaste",value:function(e,t){var n=this.state.wastePiles,a=Object(h.last)(n[1]);this._canBePlayedOnPile(a,t)&&(n[1].pop(),e[t].push(a),this.setState({piles:e,wastePiles:n}))}},{key:"_dropOnPileFromPile",value:function(e,t,n){var a=e[0],i=e[1],s=t[a].slice(i);if(this._canBePlayedOnPile(s[0],n)){var r=t[a].slice(0,i);r.length&&r[r.length-1].open(),t[a]=r,t[n]=t[n].concat(s),this.setState({piles:t})}}},{key:"dropOnPile",value:function(e,t){t.preventDefault();var n=t.dataTransfer.getData("text").split("_"),a=this.state.piles;if(1===n.length)return this._dropOnPileFromWaste(a,e);this._dropOnPileFromPile(n,a,e)}},{key:"_dropOnFoundationFromWaste",value:function(e,t){var n=this.state.wastePiles,a=Object(h.last)(n[1]);this._canBeDroppedOnFoundation(a,t)&&(e[t].push(a),n[1].pop(),this.setState({foundationPiles:e,wastePiles:n}))}},{key:"_canBeDroppedOnFoundation",value:function(e,t){var n=Object(h.last)(this.state.foundationPiles[t]);return n?n.canBePlacedForFoundation(e):e.isAce()}},{key:"_dropOnFoundationFromPile",value:function(e,t,n){var a=this.state.piles,i=e[0],s=e[1],r=a[i].length;if(r===+s+1){var o=a[i][s];this._canBeDroppedOnFoundation(o,n)&&(t[n].push(o),a[i].pop(),r-1&&a[i][r-2].open(),this.setState({piles:a,foundationPiles:t}))}}},{key:"dropOnFoundations",value:function(e,t){t.preventDefault();var n=t.dataTransfer.getData("text").split("_"),a=this.state.foundationPiles;if(1===n.length)return this._dropOnFoundationFromWaste(a,e);this._dropOnFoundationFromPile(n,a,e)}},{key:"hasWon",value:function(){52===this.state.foundationPiles.reduce(function(e,t){return e.concat(t)}).length&&(document.getElementById("winning-message").style.visibility="visible")}},{key:"render",value:function(){return this.hasWon(),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"top-layer"},i.a.createElement(O,{wastePiles:this.state.wastePiles,resetWastePile:this.resetWastePile.bind(this),handleWastePile:this.handleWastePile.bind(this)}),i.a.createElement("div",{className:"winning-message",id:"winning-message"},"YOU WON"),i.a.createElement(m,{foundationPiles:this.state.foundationPiles,dropOnFoundations:this.dropOnFoundations.bind(this)})),i.a.createElement(b,{piles:this.state.piles,dropOnPile:this.dropOnPile.bind(this)}))}}]),t}(a.Component);r.a.render(i.a.createElement(P,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.a3bf2134.chunk.js.map